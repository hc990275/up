<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>页面跳转</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // 随机密码生成
            const generatePassword = () => {
                const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                let password = "";
                for (let i = 0; i < 8; i++) { // 密码长度为 8
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                }
                return password;
            };

            // 生成随机密码
            const randomPassword = generatePassword();
            console.log("随机密码（调试用）：", randomPassword); // 仅供调试，正式上线时移除

            // 校验密码并跳转
            document.getElementById("submit-button").addEventListener("click", function (event) {
                event.preventDefault(); // 阻止表单提交

                const userPassword = document.getElementById("password").value;

                if (userPassword === randomPassword) {
                    // 判断 User-Agent 并跳转
                    const userAgent = navigator.userAgent || navigator.vendor || window.opera;
                    if (/douyinecommerce|BytedanceWebview|TTWebView|AppName\/douyinecommerce/i.test(userAgent)) {
                        window.location.href = "https://renzheng.douyin.com/m/verified_account/landing";
                    } else {
                        window.location.href = "https://www.baidu.com";
                    }
                } else {
                    alert("密码错误，请重试！");
                }
            });
        });
    </script>
</head>
<body>
    <h1>请验证身份</h1>
    <form id="auth-form">
        <label for="password">输入密码:</label>
        <input type="password" id="password" placeholder="请输入密码" required>
        <button id="submit-button" type="submit">提交</button>
    </form>
</body>
</html>